<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This is the extractor function for variable importance measures as produced by ODT and ODRF."><title>Extract variable importance measure — VarImp • ODRF</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Extract variable importance measure — VarImp"><meta property="og:description" content="This is the extractor function for variable importance measures as produced by ODT and ODRF."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ODRF</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.3.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Oblique-Decision-Random-Forest.html">Oblique Decision Random Forest for Classification and Regression</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/liuyu-star/ODRF/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Extract variable importance measure</h1>
      <small class="dont-index">Source: <a href="https://github.com/liuyu-star/ODRF/blob/HEAD/R/VarImp.R" class="external-link"><code>R/VarImp.R</code></a></small>
      <div class="d-none name"><code>VarImp.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This is the extractor function for variable importance measures as produced by <code><a href="ODT.html">ODT</a></code> and <code><a href="ODRF.html">ODRF</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">VarImp</span><span class="op">(</span><span class="va">obj</span>, X <span class="op">=</span> <span class="cn">NULL</span>, y <span class="op">=</span> <span class="cn">NULL</span>, type <span class="op">=</span> <span class="st">"permutation"</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>obj</dt>
<dd><p>An object of class <code><a href="ODT.html">ODT</a></code> and <code><a href="ODRF.html">ODRF</a></code>.</p></dd>


<dt>X</dt>
<dd><p>An n by d numerical matrix (preferably) or data frame is used in the <code>ODRF</code>.</p></dd>


<dt>y</dt>
<dd><p>A response vector of length n is used in the <code>ODRF</code>.</p></dd>


<dt>type</dt>
<dd><p>specifying the type of importance measure. "impurity": mean decrease in node impurity, "permutation" (default): mean decrease in accuracy.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A matrix of importance measure, first column is the predictors and second column is Increased error. Misclassification rate (MR) for classification or mean square error (MSE) for regression.
The larger the increased error the more important the variable is.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>A note from <code>randomForest</code> package, here are the definitions of the variable importance measures.</p><ul><li><p>The first measure is the total decrease in node impurities from splitting on the variable, averaged over all trees. For classification, the node impurity is measured by the Gini index. For regression, it is measured by residual sum of squares.</p></li>
<li><p>The second measure is computed from permuting OOB data: For each tree, the prediction error on the out-of-bag portion of the data is recorded.
Then the same is done after permuting each predictor variable. The difference between the two are then averaged over all trees.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="ODRF.html">ODRF</a></code> <code><a href="Accuracy.html">Accuracy</a></code> <code><a href="plot.VarImp.html">plot.VarImp</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">body_fat</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">y</span><span class="op">=</span><span class="va">body_fat</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">X</span><span class="op">=</span><span class="va">body_fat</span><span class="op">[</span>,<span class="op">-</span><span class="fl">1</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">tree</span> <span class="op">&lt;-</span> <span class="fu"><a href="ODT.html">ODT</a></span><span class="op">(</span><span class="va">X</span>, <span class="va">y</span>, split <span class="op">=</span> <span class="st">"mse"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">varimp</span> <span class="op">&lt;-</span> <span class="fu">VarImp</span><span class="op">(</span><span class="va">tree</span>, type<span class="op">=</span><span class="st">"impurity"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $varImp</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         varible decreas_impurity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BodyFat       1     5.985098e-03</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Hip           8     1.388495e-05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Abdomen       7     8.268911e-06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Wrist        14     7.487262e-06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Height        4     7.191171e-06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ankle        11     4.633104e-06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Biceps       12     3.746748e-06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Knee         10     1.684484e-06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Age           2     1.568994e-07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Neck          5     1.045494e-07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Thigh         9     8.405908e-08</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Forearm      13     6.621663e-08</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chest         6     1.472029e-08</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Weight        3     1.198331e-09</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $split</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "mse"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "VarImp"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">forest</span> <span class="op">&lt;-</span> <span class="fu"><a href="ODRF.html">ODRF</a></span><span class="op">(</span><span class="va">X</span>, <span class="va">y</span>, split <span class="op">=</span> <span class="st">"mse"</span>, parallel <span class="op">=</span> <span class="cn">FALSE</span>, ntrees<span class="op">=</span><span class="fl">50</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">varimp</span> <span class="op">&lt;-</span> <span class="fu">VarImp</span><span class="op">(</span><span class="va">forest</span>, type<span class="op">=</span><span class="st">"impurity"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $varImp</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         varible decreas_impurity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BodyFat       1     3.536018e-03</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Weight        3     3.454507e-05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Abdomen       7     1.430011e-05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Height        4     1.294990e-05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Thigh         9     9.089121e-06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ankle        11     6.935579e-06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Hip           8     6.807814e-06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chest         6     5.835472e-06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Neck          5     4.937802e-06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Wrist        14     3.528603e-06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Knee         10     1.820711e-06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Biceps       12     1.444451e-06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Forearm      13     8.782072e-07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Age           2     3.991877e-07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $split</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "mse"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "VarImp"</span>
<span class="r-in"><span><span class="op">(</span><span class="va">varimp</span> <span class="op">&lt;-</span> <span class="fu">VarImp</span><span class="op">(</span><span class="va">forest</span>, <span class="va">X</span>, <span class="va">y</span>, type<span class="op">=</span><span class="st">"permutation"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $varImp</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         varible increased_error</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> BodyFat       1    6.895483e-04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Weight        3    3.540741e-06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Thigh         9    1.286703e-06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Hip           8    9.485006e-07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ankle        11    7.919036e-07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Knee         10    6.297860e-07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Abdomen       7    5.934018e-07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Neck          5    5.512524e-07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chest         6    5.354998e-07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Age           2    4.518536e-07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Forearm      13    1.970960e-07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Height        4   -2.007132e-07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Wrist        14   -3.065903e-07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Biceps       12   -4.805390e-07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $split</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "mse"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "VarImp"</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Yu Liu, Yingcun Xia.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

